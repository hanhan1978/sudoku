<?php
declare(strict_types=1);

require_once dirname(__FILE__)."/../vendor/autoload.php";

/*
          Flash     Easy      Medium
000000000 072900306 380040000 050970802
000000000 059806721 560009020 070603450
000000000 681020054 020083000 040000300
000000000 538492600 010300400 100006070
000000000 200310040 070064000 020000900
000000000 107008003 050102000 005801000
000000000 810639570 092531704 008000000
000000000 000100409 807026951 060732080
000000000 005274030 100897060 910000206

Hard
500040000
004007360
620580400
800000020
007031000
950004803
000000086
000010047
000050000

hard
006900800
004060290
300000000
040000706
700030000
060020085
200000600
009500000
005340000
*/

$problem = <<<EOL
500040000
004007360
620580400
800000020
007031000
950004803
000000086
000010047
000050000
EOL;

$box = \Hanhan1978\Sudoku\Box\ProblemParser::parse($problem);

$history = [];

$counter = 0;
while(true){

    if($box->solved()) break;

    $history[] = $box;

    $solver = new \Hanhan1978\Sudoku\Solver\Unique();

    $box = $solver->solve($box);

    if(++$counter > 10) break;
}

if($box->solved()){
    echo "\n---------SOLVED-------[Counter [{$counter}]---\n";
}else{
    echo "\n---------FAILED----------\n";
}

$box->display();
